{"ast":null,"code":"import { Utilisateur } from '../../../Models/utilisateur.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../Services/journalisation.service\";\nimport * as i2 from \"../../../Services/utilisateur.service\";\nimport * as i3 from \"../../../Services/action.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nconst _c0 = [\"tab2\"];\nconst _c1 = [\"tab1\"];\nfunction ActiviteComponent_table_33_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const j_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", j_r4.application, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", j_r4.dateConnexion, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", j_r4.adresseIP, \" \");\n  }\n}\nfunction ActiviteComponent_table_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 25, 26)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"APPLICATION\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"DATE CONNEXION\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"ADRESSE IP\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, ActiviteComponent_table_33_tr_11_Template, 7, 3, \"tr\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.Journalisations);\n  }\n}\nfunction ActiviteComponent_div_44_table_4_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const action_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", action_r10.application, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", action_r10.date, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", action_r10.description, \" \");\n  }\n}\nfunction ActiviteComponent_div_44_table_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 31, 32)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"APPLICATION\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"DATE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"ACTION\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, ActiviteComponent_div_44_table_4_tr_11_Template, 7, 3, \"tr\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.Actions);\n  }\n}\nfunction ActiviteComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29)(2, \"h4\");\n    i0.ɵɵtext(3, \" DATE DE CONNEXION : 12/09/2023 \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, ActiviteComponent_div_44_table_4_Template, 12, 1, \"table\", 30);\n    i0.ɵɵelement(5, \"br\")(6, \"br\")(7, \"br\")(8, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.Actions && ctx_r1.Journalisations);\n  }\n}\nconst _c2 = function () {\n  return [\"/Utilisateur\"];\n};\nconst _c3 = function () {\n  return [\"user-button-active\"];\n};\nconst _c4 = function () {\n  return {\n    exact: true\n  };\n};\nconst _c5 = function () {\n  return [\"/Utilisateur/Acces\"];\n};\nconst _c6 = function () {\n  return [\"/Utilisateur/Activite\"];\n};\nexport class ActiviteComponent {\n  constructor(JournalisationService, UtilisateurService, ActionService, router, route) {\n    this.JournalisationService = JournalisationService;\n    this.UtilisateurService = UtilisateurService;\n    this.ActionService = ActionService;\n    this.router = router;\n    this.route = route;\n    this.rechUtilisateur = \"\";\n    this.rechJournalisation = \"\";\n    this.rechAction = \"\";\n    this.Utilisateur = new Utilisateur();\n    this.Journalisations = [];\n    this.Actions = [];\n  }\n  ngOnInit() {}\n  loadJournalisation() {\n    this.JournalisationService.getJournalisations(this.Utilisateur.id).subscribe(data => {\n      this.Journalisations = data;\n    });\n  }\n  loadActions() {\n    for (let journalisation of this.Journalisations) {\n      this.ActionService.getActions(journalisation).subscribe(data => {\n        this.Actions = data;\n      });\n    }\n  }\n  RechercheUtilisateur() {\n    this.Journalisations = [];\n    this.UtilisateurService.getUtilisateurs().subscribe(data => {\n      for (const user of data) {\n        if (this.rechUtilisateur === user.userName) {\n          this.Utilisateur = user;\n          this.loadJournalisation();\n        }\n      }\n    });\n  }\n  RechercheJournalisation() {\n    this.Journalisations = [];\n    this.UtilisateurService.getUtilisateurs().subscribe(data => {\n      for (const user of data) {\n        if (this.rechUtilisateur === user.userName) {\n          this.Utilisateur = user;\n          this.loadJournalisation();\n        }\n      }\n    });\n  }\n  RechercheAction() {\n    this.Journalisations = [];\n    this.UtilisateurService.getUtilisateurs().subscribe(data => {\n      for (const user of data) {\n        if (this.rechUtilisateur === user.userName) {\n          this.Utilisateur = user;\n          this.loadJournalisation();\n        }\n      }\n    });\n  }\n  scrollToTab2() {\n    if (this.tab2) {\n      this.tab2.nativeElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  }\n  scrollToTab1() {\n    if (this.tab1) {\n      this.tab1.nativeElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  }\n  static #_ = this.ɵfac = function ActiviteComponent_Factory(t) {\n    return new (t || ActiviteComponent)(i0.ɵɵdirectiveInject(i1.JournalisationService), i0.ɵɵdirectiveInject(i2.UtilisateurService), i0.ɵɵdirectiveInject(i3.ActionService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ActiviteComponent,\n    selectors: [[\"app-Activite\"]],\n    viewQuery: function ActiviteComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tab2 = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tab1 = _t.first);\n      }\n    },\n    decls: 45,\n    vars: 19,\n    consts: [[1, \"background-titre\", \"centered-element\"], [1, \"centered-element\"], [1, \"content\"], [2, \"display\", \"flex\", \"justify-content\", \"center\"], [\"id\", \"user-button\", 1, \"user-button\", 3, \"routerLink\", \"routerLinkActive\", \"routerLinkActiveOptions\"], [1, \"fa-solid\", \"fa-list\"], [\"id\", \"user-button\", 1, \"user-button\", 3, \"routerLink\", \"routerLinkActive\"], [1, \"fa-solid\", \"fa-user-lock\"], [1, \"fa-solid\", \"fa-clock-rotate-left\"], [1, \"search-bar-and-add\", 2, \"margin\", \"0px 25% 0px 20%\"], [1, \"add-button\", 2, \"padding\", \"8.5px\"], [1, \"fa-solid\", \"fa-user\", 2, \"color\", \"gold\"], [\"type\", \"text\", \"placeholder\", \"Saisir un nom d'utilisateur..\", 1, \"search-input\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"type\", \"submit\", 1, \"search-button\"], [1, \"fas\", \"fa-search\"], [2, \"color\", \"aqua\"], [1, \"search-bar-and-add\"], [1, \"add-button\", 2, \"padding\", \"8.5px\", 3, \"click\"], [1, \"fa-solid\", \"fa-angles-down\", 2, \"color\", \"gold\"], [\"type\", \"text\", \"placeholder\", \"Saisir une date ou une application...\", 1, \"search-input\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [2, \"text-align\", \"center\", \"border\", \"1.5px solid #349AB5\", \"border-radius\", \"4px\", \"padding\", \"4px\", \"font-weight\", \"500\", \"padding\", \"5px 0px 0px 5px\"], [\"style\", \"margin-bottom:50px;\", \"aria-labelledby\", \"tableLabel\", 4, \"ngIf\"], [1, \"fa-solid\", \"fa-angles-up\", 2, \"color\", \"gold\"], [\"type\", \"text\", \"placeholder\", \"Rechercher...\", 1, \"search-input\"], [\"style\", \"margin-bottom: -40px; border-radius: 4px; padding: 20px; font-weight: 500;\", 4, \"ngFor\", \"ngForOf\"], [\"aria-labelledby\", \"tableLabel\", 2, \"margin-bottom\", \"50px\"], [\"tab1\", \"\"], [4, \"ngFor\", \"ngForOf\"], [2, \"margin-bottom\", \"-40px\", \"border-radius\", \"4px\", \"padding\", \"20px\", \"font-weight\", \"500\"], [2, \"margin-bottom\", \"15px\", \"border\", \"1.5px solid #3398B2\", \"padding\", \"2px\", \"background-color\", \"#274a65\", \"border-radius\", \"5px\", \"padding\", \"5px 0px 0px 5px\", \"text-align\", \"center\"], [\"aria-labelledby\", \"tableLabel\", 4, \"ngIf\"], [\"aria-labelledby\", \"tableLabel\"], [\"tab2\", \"\"]],\n    template: function ActiviteComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \" GESTION DES UTILISATEURS \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"div\", 3)(6, \"button\", 4);\n        i0.ɵɵelement(7, \"i\", 5);\n        i0.ɵɵtext(8, \" \\u00A0 LISTE \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 6);\n        i0.ɵɵelement(10, \"i\", 7);\n        i0.ɵɵtext(11, \" \\u00A0 ACC\\u00C8S \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 6);\n        i0.ɵɵelement(13, \"i\", 8);\n        i0.ɵɵtext(14, \" \\u00A0 ACTIVIT\\u00C9 \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 9)(16, \"button\", 10);\n        i0.ɵɵelement(17, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function ActiviteComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.rechUtilisateur = $event;\n        })(\"input\", function ActiviteComponent_Template_input_input_18_listener() {\n          return ctx.RechercheUtilisateur();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"button\", 13);\n        i0.ɵɵelement(20, \"i\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(21, \"hr\", 15);\n        i0.ɵɵelementStart(22, \"div\", 16)(23, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function ActiviteComponent_Template_button_click_23_listener() {\n          return ctx.scrollToTab2();\n        });\n        i0.ɵɵelement(24, \"i\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"input\", 19);\n        i0.ɵɵlistener(\"ngModelChange\", function ActiviteComponent_Template_input_ngModelChange_25_listener($event) {\n          return ctx.rechJournalisation = $event;\n        })(\"input\", function ActiviteComponent_Template_input_input_25_listener() {\n          return ctx.RechercheJournalisation();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"button\", 13);\n        i0.ɵɵelement(27, \"i\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(28, \"br\");\n        i0.ɵɵelementStart(29, \"div\", 20)(30, \"h4\");\n        i0.ɵɵtext(31);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(32, \"br\");\n        i0.ɵɵtemplate(33, ActiviteComponent_table_33_Template, 12, 1, \"table\", 21);\n        i0.ɵɵelement(34, \"br\")(35, \"br\")(36, \"hr\", 15);\n        i0.ɵɵelementStart(37, \"div\", 16)(38, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function ActiviteComponent_Template_button_click_38_listener() {\n          return ctx.scrollToTab1();\n        });\n        i0.ɵɵelement(39, \"i\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(40, \"input\", 23);\n        i0.ɵɵelementStart(41, \"button\", 13);\n        i0.ɵɵelement(42, \"i\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(43, \"br\");\n        i0.ɵɵtemplate(44, ActiviteComponent_div_44_Template, 9, 1, \"div\", 24);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(12, _c2))(\"routerLinkActive\", i0.ɵɵpureFunction0(13, _c3))(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(14, _c4));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(15, _c5))(\"routerLinkActive\", i0.ɵɵpureFunction0(16, _c3));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(17, _c6))(\"routerLinkActive\", i0.ɵɵpureFunction0(18, _c3));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.rechUtilisateur);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.rechJournalisation);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" DATE D'INSCRIPTION : \", ctx.Utilisateur.dateInscription, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.Journalisations);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", ctx.Journalisations);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel, i4.RouterLink, i4.RouterLinkActive],\n    encapsulation: 2\n  });\n}","map":{"version":3,"mappings":"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","names":["Utilisateur","i0","ActiviteComponent","constructor","JournalisationService","UtilisateurService","ActionService","router","route","ngOnInit","loadJournalisation","getJournalisations","id","subscribe","data","Journalisations","loadActions","journalisation","getActions","Actions","RechercheUtilisateur","getUtilisateurs","user","rechUtilisateur","userName","RechercheJournalisation","RechercheAction","scrollToTab2","tab2","nativeElement","scrollIntoView","behavior","block","scrollToTab1","tab1","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\Skander\\source\\repos\\WBAuth.Frontend\\ClientApp\\src\\app\\Modules\\Utilisateur\\Activite\\Activite.component.ts","C:\\Users\\Skander\\source\\repos\\WBAuth.Frontend\\ClientApp\\src\\app\\Modules\\Utilisateur\\Activite\\Activite.component.html"],"sourcesContent":["import { Component, Inject, ElementRef, ViewChild ,OnInit } from '@angular/core';\r\nimport { Utilisateur } from '../../../Models/utilisateur.model';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { UtilisateurService } from '../../../Services/utilisateur.service';\r\nimport { JournalisationService } from '../../../Services/journalisation.service';\r\nimport { ActionService } from '../../../Services/action.service';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-Activite',\r\n  templateUrl: './Activite.component.html'\r\n})\r\nexport class ActiviteComponent implements OnInit {\r\n  @ViewChild('tab2', { static: false }) tab2: ElementRef | undefined;\r\n  @ViewChild('tab1', { static: false }) tab1: ElementRef | undefined;\r\n  rechUtilisateur: string = \"\";\r\n  rechJournalisation: string = \"\";\r\n  rechAction: string = \"\";\r\n  Utilisateur: Utilisateur = new Utilisateur();\r\n  Journalisations: any[] = [];\r\n  Actions: any[] = [];\r\n\r\n  constructor(private JournalisationService: JournalisationService, private UtilisateurService: UtilisateurService, private ActionService: ActionService,\r\n              private router: Router, private route: ActivatedRoute) { }\r\n\r\n\r\n  ngOnInit(): void {\r\n    \r\n  }\r\n\r\n  loadJournalisation(){\r\n    this.JournalisationService.getJournalisations(this.Utilisateur.id).subscribe((data) => {\r\n      this.Journalisations = data;\r\n    });\r\n  }\r\n\r\n  loadActions(){\r\n    for (let journalisation of this.Journalisations) {\r\n      this.ActionService.getActions(journalisation).subscribe((data) => {\r\n        this.Actions = data;\r\n      });\r\n    }\r\n  }\r\n\r\n  RechercheUtilisateur() {\r\n    this.Journalisations = [] \r\n    this.UtilisateurService.getUtilisateurs().subscribe((data) => {\r\n      for (const user of data) {\r\n        if (this.rechUtilisateur === user.userName) {\r\n          this.Utilisateur = user;\r\n          this.loadJournalisation();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  RechercheJournalisation() {\r\n    this.Journalisations = []\r\n    this.UtilisateurService.getUtilisateurs().subscribe((data) => {\r\n      for (const user of data) {\r\n        if (this.rechUtilisateur === user.userName) {\r\n          this.Utilisateur = user;\r\n          this.loadJournalisation();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  RechercheAction() {\r\n    this.Journalisations = []\r\n    this.UtilisateurService.getUtilisateurs().subscribe((data) => {\r\n      for (const user of data) {\r\n        if (this.rechUtilisateur === user.userName) {\r\n          this.Utilisateur = user;\r\n          this.loadJournalisation();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  scrollToTab2(){ if (this.tab2) { this.tab2.nativeElement.scrollIntoView({ behavior: 'smooth', block: 'start' }); } }\r\n  scrollToTab1(){ if (this.tab1) { this.tab1.nativeElement.scrollIntoView({ behavior: 'smooth', block: 'start' }); } }\r\n}\r\n\r\n\r\n\r\n","    <div class=\"background-titre centered-element\"> <h1> GESTION DES UTILISATEURS </h1> </div>\r\n    <div class=\"centered-element\">\r\n      <div class=\"content\">\r\n\r\n        <div style=\"display:flex; justify-content:center;\">\r\n          <button class=\"user-button\" id=\"user-button\" [routerLink]=\"['/Utilisateur']\" [routerLinkActive]=\"['user-button-active']\" [routerLinkActiveOptions]=\"{ exact: true }\">\r\n            <i class=\"fa-solid fa-list\"></i>  &nbsp; LISTE\r\n          </button>\r\n          <button class=\"user-button\" id=\"user-button\" [routerLink]=\"['/Utilisateur/Acces']\" [routerLinkActive]=\"['user-button-active']\">\r\n            <i class=\"fa-solid fa-user-lock\"></i> &nbsp; ACCÈS\r\n          </button>\r\n          <button class=\"user-button\" id=\"user-button\" [routerLink]=\"['/Utilisateur/Activite']\" [routerLinkActive]=\"['user-button-active']\">\r\n            <i class=\"fa-solid fa-clock-rotate-left\"></i>  &nbsp; ACTIVITÉ\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"search-bar-and-add\" style=\"margin:0px 25% 0px 20%;\">\r\n          <button class=\"add-button\" style=\"padding:8.5px;\"> <i class=\"fa-solid fa-user\" style=\"color:gold;\"></i> </button>\r\n          <input [(ngModel)]=\"rechUtilisateur\" (input)=\"RechercheUtilisateur()\" class=\"search-input\" type=\"text\" placeholder=\"Saisir un nom d'utilisateur..\">\r\n          <button class=\"search-button\" type=\"submit\"><i class=\"fas fa-search\"></i></button>\r\n        </div>\r\n\r\n        <hr style=\"color:aqua;\" />\r\n        <div class=\"search-bar-and-add\">\r\n          <button (click)=\"scrollToTab2()\" class=\"add-button\" style=\"padding:8.5px;\"> <i class=\"fa-solid fa-angles-down\" style=\"color:gold;\"></i> </button>\r\n          <input [(ngModel)]=\"rechJournalisation\" (input)=\"RechercheJournalisation()\" class=\"search-input\" type=\"text\" placeholder=\"Saisir une date ou une application...\">\r\n          <button class=\"search-button\" type=\"submit\"><i class=\"fas fa-search\"></i></button>\r\n        </div>\r\n        <br />\r\n\r\n        <div style=\"text-align: center; border: 1.5px solid #349AB5; border-radius: 4px; padding: 4px; font-weight: 500; padding: 5px 0px 0px 5px;\">\r\n          <h4> DATE D'INSCRIPTION : {{ Utilisateur.dateInscription }} </h4>\r\n        </div>\r\n        <br />\r\n\r\n        <table style=\"margin-bottom:50px;\" aria-labelledby=\"tableLabel\" *ngIf=\"Journalisations\" #tab1>\r\n          <thead>\r\n            <tr>\r\n              <th>APPLICATION</th>\r\n              <th>DATE CONNEXION</th>\r\n              <th>ADRESSE IP</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let j of Journalisations\">\r\n              <td> {{ j.application }}  </td>\r\n              <td> {{ j.dateConnexion }} </td>\r\n              <td> {{ j.adresseIP }} </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <br /><br />\r\n\r\n\r\n        <!--------------------------------------------------------------------------------------------------------------------------------------------------------->\r\n        <hr style=\"color:aqua;\" />\r\n        <div class=\"search-bar-and-add\">\r\n          <button (click)=\"scrollToTab1()\" class=\"add-button\" style=\"padding:8.5px;\"> <i class=\"fa-solid fa-angles-up\" style=\"color:gold;\"></i> </button>\r\n          <input class=\"search-input\" type=\"text\" placeholder=\"Rechercher...\">\r\n          <button class=\"search-button\" type=\"submit\"><i class=\"fas fa-search\"></i></button>\r\n        </div>\r\n        <br />\r\n\r\n        <div *ngFor=\"let j of Journalisations; let i = index\" style=\"margin-bottom: -40px; border-radius: 4px; padding: 20px; font-weight: 500;\">\r\n          <div style=\"margin-bottom: 15px; border: 1.5px solid #3398B2; padding: 2px; background-color: #274a65;\r\n               border-radius:5px; padding:5px 0px 0px 5px; text-align:center;\">\r\n          <h4> DATE DE CONNEXION : 12/09/2023 </h4> </div>\r\n          <table aria-labelledby=\"tableLabel\" *ngIf=\"Actions && Journalisations\" #tab2>\r\n            <thead>\r\n              <tr>\r\n                <th>APPLICATION</th>\r\n                <th>DATE</th>\r\n                <th>ACTION</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let action of Actions\">\r\n                <td> {{ action.application }} </td>\r\n                <td> {{ action.date }} </td>\r\n                <td> {{ action.description }} </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <br /><br /><br /><br />\r\n        </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}