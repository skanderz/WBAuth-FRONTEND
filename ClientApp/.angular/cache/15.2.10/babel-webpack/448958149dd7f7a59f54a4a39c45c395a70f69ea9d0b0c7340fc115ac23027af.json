{"ast":null,"code":"import { Permission } from '../../Models/permission.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Services/permission.service\";\nimport * as i2 from \"../../Services/role.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../Services/application.service\";\nimport * as i5 from \"../../Services/journalisation.service\";\nimport * as i6 from \"../../Services/action.service\";\nimport * as i7 from \"./../../Services/utilisateur.service\";\nimport * as i8 from \"../../Services/fonction.service\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"../Utilisateur/Acces/cell-style.directive\";\nconst _c0 = [\"table2\"];\nconst _c1 = [\"table1\"];\nfunction PermissionComponent_h4_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 4);\n    i0.ɵɵtext(1, \" Acc\\u00E8s refus\\u00E9 : Vous n'\\u00EAtes pas autoris\\u00E9 \\u00E0 consulter la liste des permissions ! \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c2 = function () {\n  return [\"/Permission/AjouterPermission\"];\n};\nfunction PermissionComponent_div_5_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵelement(1, \"i\", 25);\n    i0.ɵɵtext(2, \" \\u00A0 AJOUTER \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c2));\n  }\n}\nfunction PermissionComponent_div_5_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const app_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", app_r8.nom);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(app_r8.nom);\n  }\n}\nfunction PermissionComponent_div_5_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", role_r9.nom);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", role_r9.nom, \" ( Niveau \", role_r9.niveau, \" )\");\n  }\n}\nconst _c3 = function () {\n  return [\"/Permission/ModifierPermission\"];\n};\nfunction PermissionComponent_div_5_table_22_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"i\", 30);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_22_tr_18_Template_i_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const permission_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r13.onModifierClick(permission_r12.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"i\", 31);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_22_tr_18_Template_i_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const permission_r12 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r15.deletePermission(permission_r12.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 32);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_22_tr_18_Template_td_click_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const permission_r12 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r16.onModifierAccesFonctionMulti(0, permission_r12, $event));\n    });\n    i0.ɵɵelementStart(6, \"span\", 33);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\", 34);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_22_tr_18_Template_td_click_8_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const permission_r12 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r17.onModifierAccesFonctionMulti(1, permission_r12, $event));\n    });\n    i0.ɵɵelementStart(9, \"span\", 35);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\", 32);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_22_tr_18_Template_td_click_11_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const permission_r12 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r18.onModifierAccesFonctionMulti(2, permission_r12, $event));\n    });\n    i0.ɵɵelementStart(12, \"span\", 33);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\", 34);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_22_tr_18_Template_td_click_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const permission_r12 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r19.onModifierAccesFonctionMulti(3, permission_r12, $event));\n    });\n    i0.ɵɵelementStart(15, \"span\", 35);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\", 32);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_22_tr_18_Template_td_click_17_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const permission_r12 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r20.onModifierAccesFonctionMulti(4, permission_r12, $event));\n    });\n    i0.ɵɵelementStart(18, \"span\", 33);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"td\", 34);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_22_tr_18_Template_td_click_20_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const permission_r12 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r21.onModifierAccesFonctionMulti(5, permission_r12, $event));\n    });\n    i0.ɵɵelementStart(21, \"span\", 35);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const permission_r12 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(14, _c3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", permission_r12.nom, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"appCellStyle\", permission_r12.status[0] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(permission_r12.status[0] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"appCellStyle\", permission_r12.status[1] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(permission_r12.status[1] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"appCellStyle\", permission_r12.status[2] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(permission_r12.status[2] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"appCellStyle\", permission_r12.status[3] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(permission_r12.status[3] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"appCellStyle\", permission_r12.status[4] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(permission_r12.status[4] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"appCellStyle\", permission_r12.status[5] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(permission_r12.status[5] === \"0\" ? \"\\u2716\" : \"\\u2714\");\n  }\n}\nfunction PermissionComponent_div_5_table_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 27, 28)(2, \"thead\")(3, \"tr\");\n    i0.ɵɵelement(4, \"th\");\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"LECTURE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"AJOUT\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"MODIFICATION\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"SUPRESSION\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"IMPRESSION\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"EXPORTATION\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, PermissionComponent_div_5_table_22_tr_18_Template, 23, 15, \"tr\", 29);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.multiPermissions);\n  }\n}\nfunction PermissionComponent_div_5_button_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵelement(1, \"i\", 25);\n    i0.ɵɵtext(2, \" \\u00A0 AJOUTER \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c2));\n  }\n}\nfunction PermissionComponent_div_5_table_40_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"i\", 30);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_40_tr_8_Template_i_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const permission_r24 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r25.onModifierClick(permission_r24.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"i\", 31);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_40_tr_8_Template_i_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const permission_r24 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r27.deletePermission(permission_r24.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 34);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_table_40_tr_8_Template_td_click_5_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const permission_r24 = restoredCtx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r28.onModifierAccesFonctionUnique(permission_r24, $event));\n    });\n    i0.ɵɵelementStart(6, \"span\", 35);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const permission_r24 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", permission_r24.nom, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"appCellStyle\", permission_r24.status === \"0\" ? \"\\u2716\" : \"\\u2714\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(permission_r24.status === \"0\" ? \"\\u2716\" : \"\\u2714\");\n  }\n}\nfunction PermissionComponent_div_5_table_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 36, 37)(2, \"thead\")(3, \"tr\");\n    i0.ɵɵelement(4, \"th\");\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"ACTION\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"tbody\");\n    i0.ɵɵtemplate(8, PermissionComponent_div_5_table_40_tr_8_Template, 8, 5, \"tr\", 29);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.uniquePermissions);\n  }\n}\nfunction PermissionComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6);\n    i0.ɵɵtemplate(2, PermissionComponent_div_5_button_2_Template, 3, 2, \"button\", 7);\n    i0.ɵɵelementStart(3, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function PermissionComponent_div_5_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.rechFonctionMulti = $event);\n    })(\"input\", function PermissionComponent_div_5_Template_input_input_3_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.RechMultiFonction());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 9);\n    i0.ɵɵelement(5, \"i\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"div\", 11)(8, \"label\", 12);\n    i0.ɵɵtext(9, \"APPLICATION :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"select\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function PermissionComponent_div_5_Template_select_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.rechApp = $event);\n    })(\"ngModelChange\", function PermissionComponent_div_5_Template_select_ngModelChange_10_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.getSelectedApplicationId());\n    });\n    i0.ɵɵtemplate(11, PermissionComponent_div_5_option_11_Template, 2, 2, \"option\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"label\", 12);\n    i0.ɵɵtext(13, \"R\\u00D4LE :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"select\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function PermissionComponent_div_5_Template_select_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.rechRole = $event);\n    })(\"ngModelChange\", function PermissionComponent_div_5_Template_select_ngModelChange_14_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.getSelectedRoleId());\n    });\n    i0.ɵɵtemplate(15, PermissionComponent_div_5_option_15_Template, 2, 3, \"option\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 16)(17, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.scrollToTable2());\n    });\n    i0.ɵɵelement(18, \"i\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 19);\n    i0.ɵɵtext(20, \" TABLEAU MULTI-FONCTIONS \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵtemplate(22, PermissionComponent_div_5_table_22_Template, 19, 1, \"table\", 20);\n    i0.ɵɵelement(23, \"br\")(24, \"br\")(25, \"br\")(26, \"br\")(27, \"hr\", 21);\n    i0.ɵɵelementStart(28, \"div\", 6);\n    i0.ɵɵtemplate(29, PermissionComponent_div_5_button_29_Template, 3, 2, \"button\", 7);\n    i0.ɵɵelementStart(30, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function PermissionComponent_div_5_Template_input_ngModelChange_30_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.rechFonctionUnique = $event);\n    })(\"input\", function PermissionComponent_div_5_Template_input_input_30_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.RechFonctionUnique());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 9);\n    i0.ɵɵelement(32, \"i\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(33, \"br\");\n    i0.ɵɵelementStart(34, \"div\", 16)(35, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function PermissionComponent_div_5_Template_button_click_35_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.scrollToTable1());\n    });\n    i0.ɵɵelement(36, \"i\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 19);\n    i0.ɵɵtext(38, \" TABLEAU DE FONCTION UNIQUE \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(39, \"br\");\n    i0.ɵɵtemplate(40, PermissionComponent_div_5_table_40_Template, 9, 1, \"table\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.add);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.rechFonctionMulti);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.rechApp);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.applications);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.rechRole);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.roles);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.multiPermissions);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.add);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.rechFonctionUnique);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.uniquePermissions);\n  }\n}\nexport class PermissionComponent {\n  constructor(PermissionService, RoleService, route, router, ApplicationService, JournalisationService, ActionService, UtilisateurService, FonctionService) {\n    this.PermissionService = PermissionService;\n    this.RoleService = RoleService;\n    this.route = route;\n    this.router = router;\n    this.ApplicationService = ApplicationService;\n    this.JournalisationService = JournalisationService;\n    this.ActionService = ActionService;\n    this.UtilisateurService = UtilisateurService;\n    this.FonctionService = FonctionService;\n    this.permission = new Permission();\n    this.roles = [];\n    this.applications = [];\n    this.multiPermissions = [];\n    this.uniquePermissions = [];\n    this.rechApp = '';\n    this.rechRole = '';\n    this.rechFonctionMulti = '';\n    this.rechFonctionUnique = '';\n    this.IdApp = 0;\n    this.IdRole = 0;\n    this.i = 0;\n    this.listePermissionsPredefini = [];\n    this.read = false;\n    this.modify = false;\n    this.add = false;\n    this.delete = false;\n  }\n  ngOnInit() {\n    this.ajouterListePermissionsPredefini();\n    this.ApplicationService.getApplications().subscribe(data => {\n      this.applications = data;\n      if (this.applications && this.applications.length > 0) {\n        this.IdApp = this.applications[0].id;\n        this.rechApp = this.applications[0].nom;\n        this.RoleService.getRoles(this.IdApp).subscribe(data => {\n          this.roles = data;\n          this.IdRole = this.roles[0].id;\n          this.rechRole = this.roles[0].nom;\n          this.loadPermissions();\n        });\n      }\n    }, error => {\n      console.error('Erreur lors de la récupération des applications : ', error);\n    });\n  }\n  ngAfterViewInit() {\n    this.setPermissionsByRole();\n    const cells = this.table1.nativeElement.querySelectorAll('td.acces');\n    console.log(cells);\n  }\n  setPermissionsByRole() {\n    this.ApplicationService.Recherche(\"www.wbauth.com\").subscribe(dataApp => {\n      if (dataApp[0].url == \"www.wbauth.com\") {\n        let role = localStorage.getItem(\"role\");\n        this.RoleService.Recherche(role, dataApp[0].id).subscribe(dataRole => {\n          if (dataRole && dataRole.length == 1) {\n            this.PermissionService.getListeMultiFonction(dataApp[0].id, dataRole[0].id).subscribe(dataPermission => {\n              for (const perm of dataPermission) {\n                if (perm.nom == \"Gestion des permissions\") {\n                  if (perm.status[0] === \"1\") {\n                    this.read = true;\n                  }\n                  if (perm.status[1] === \"1\") {\n                    this.add = true;\n                  }\n                  if (perm.status[2] === \"1\") {\n                    this.modify = true;\n                  }\n                  if (perm.status[3] === \"1\") {\n                    this.delete = true;\n                  }\n                  if (perm.status[2] === \"0\") {\n                    const cells = document.querySelectorAll('td.acces');\n                    console.log(cells);\n                    cells.forEach(cell => {\n                      if (cell.classList.contains('acces')) {\n                        const htmlCell = cell;\n                        htmlCell.classList.add(\"no-select\");\n                        htmlCell.style.cursor = \"not-allowed\";\n                      }\n                    });\n                  }\n                }\n              }\n            });\n          }\n        });\n      }\n    });\n  }\n  loadApplications() {\n    this.ApplicationService.getApplications().subscribe(data => {\n      this.applications = data;\n    }, error => {\n      console.error('Erreur lors de la récupération des applications : ', error);\n    });\n  }\n  getSelectedApplicationId() {\n    const selectedApplication = this.applications.find(app => app.nom === this.rechApp);\n    if (selectedApplication) {\n      this.IdApp = selectedApplication.id;\n      this.RoleService.getRoles(this.IdApp).subscribe(data => {\n        this.roles = data;\n        this.IdRole = this.roles[0].id;\n        this.rechRole = this.roles[0].nom;\n        this.loadPermissions();\n      }, error => {\n        console.error('Erreur lors de la récupération des roles : ', error);\n      });\n      return selectedApplication.id;\n    } else return 0;\n  }\n  getSelectedRoleId() {\n    const selectedRole = this.roles.find(r => r.nom === this.rechRole);\n    if (selectedRole) {\n      this.IdRole = selectedRole.id;\n      this.loadPermissions();\n      return selectedRole.id;\n    } else return 0;\n  }\n  loadPermissions() {\n    if (this.applications.length > 0 && this.roles.length > 0) {\n      this.PermissionService.getListeMultiFonction(this.IdApp, this.IdRole).subscribe(data => {\n        this.multiPermissions = data;\n      }, error => {\n        console.error('Erreur lors de la récupération des Permissions : ', error);\n      });\n      this.PermissionService.getListeFonctionUnique(this.IdApp, this.IdRole).subscribe(data => {\n        this.uniquePermissions = data;\n      }, error => {\n        console.error('Erreur lors de la récupération des Permissions : ', error);\n      });\n    }\n  }\n  RechMultiFonction() {\n    if (this.rechFonctionMulti == \"\") this.loadPermissions();else {\n      this.PermissionService.getListeMultiFonction(this.IdApp, this.IdRole).subscribe(data => {\n        this.multiPermissions = data;\n        this.multiPermissions = this.multiPermissions.filter(perm => {\n          return perm.nom.toLowerCase().includes(this.rechFonctionMulti.toLowerCase());\n        });\n      });\n    }\n  }\n  RechFonctionUnique() {\n    if (this.rechFonctionUnique == \"\") this.loadPermissions();else {\n      this.PermissionService.getListeFonctionUnique(this.IdApp, this.IdRole).subscribe(data => {\n        this.uniquePermissions = data;\n        this.uniquePermissions = this.uniquePermissions.filter(perm => {\n          return perm.nom.toLowerCase().includes(this.rechFonctionUnique.toLowerCase());\n        });\n      });\n    }\n  }\n  onModifierAccesFonctionMulti(index, perm, event) {\n    const cells = document.querySelectorAll('td.acces');\n    console.log(cells);\n    this.i = index;\n    const target = event.target;\n    const span = target.querySelector('span');\n    if (span?.textContent === '✔') {\n      span.textContent = '✖';\n      target.style.backgroundColor = 'red';\n    } else if (span?.textContent === '✖') {\n      span.textContent = '✔';\n      target.style.backgroundColor = '#128d3a';\n    }\n    this.PermissionService.ModifierAcces(this.IdApp, this.i, perm).subscribe(() => {\n      this.loadPermissions();\n      this.EnregistrerAction(this.IdApp, this.IdRole, \"MultiFonction\", perm);\n    });\n  }\n  onModifierAccesFonctionUnique(perm, event) {\n    const target = event.target;\n    const span = target.querySelector('span');\n    if (span?.textContent === '✔' && perm.status == \"1\") {\n      span.textContent = '✖';\n      target.style.backgroundColor = 'red';\n    } else if (span?.textContent === '✖' && perm.status == \"0\") {\n      span.textContent = '✔';\n      target.style.backgroundColor = '#128d3a';\n    }\n    this.PermissionService.ModifierAcces(this.IdApp, this.i, perm).subscribe(() => {\n      this.loadPermissions();\n      this.EnregistrerAction(this.IdApp, this.IdRole, \"Fonction Unique\", perm);\n    });\n  }\n  onModifierClick(id) {\n    this.router.navigate(['Permission/ModifierPermission', id]);\n  }\n  EnregistrerActionSupp(id) {\n    let username = localStorage.getItem(\"username\");\n    this.UtilisateurService.Recherche(username).subscribe(data => {\n      this.JournalisationService.getJournalisations(data[0].id).subscribe(dataJournalisations => {\n        let idJournalisation = dataJournalisations[dataJournalisations.length - 1].id;\n        const action = {\n          id: 0,\n          application: \"www.wbauth.com\",\n          date: new Date(),\n          description: `l'utilisateur ${username} a supprimer la permission avec l'id '${id}' du role '${this.rechRole}' dans l'application '${this.rechApp}' avec l'id '${this.IdApp}'`,\n          idJournalisation: idJournalisation,\n          journalisation: dataJournalisations[dataJournalisations.length - 1]\n        };\n        this.ActionService.EnregistrementActions(action).subscribe(() => {\n          console.log(action);\n        });\n      });\n    });\n  }\n  deletePermission(id) {\n    if (confirm('Voulez-vous vraiment supprimer ce Permission ?')) {\n      this.PermissionService.deletePermission(id).subscribe(() => {\n        this.loadPermissions();\n        this.EnregistrerActionSupp(id);\n      });\n    }\n  }\n  scrollToTable2() {\n    if (this.table2) {\n      this.table2.nativeElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  }\n  scrollToTable1() {\n    if (this.table1) {\n      this.table1.nativeElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }\n  }\n  EnregistrerAction(IdApp, IdRole, type, perm) {\n    let username = localStorage.getItem(\"username\");\n    this.UtilisateurService.Recherche(username).subscribe(data => {\n      this.JournalisationService.getJournalisations(data[0].id).subscribe(dataJournalisations => {\n        let idJournalisation = dataJournalisations[dataJournalisations.length - 1].id;\n        if (type === \"MultiFonction\") {\n          const action = {\n            id: 0,\n            application: \"www.wbauth.com\",\n            date: new Date(),\n            description: `l'utilisateur ${username} a modifier la permission '${perm.nom}' du role avec l'id '${IdRole}' de l'application avec l'id '${IdApp}'  `,\n            idJournalisation: idJournalisation,\n            journalisation: dataJournalisations[dataJournalisations.length - 1]\n          };\n          this.ActionService.EnregistrementActions(action).subscribe(() => {\n            console.log(action);\n          });\n        } else if (type === \"Fonction Unique\") {\n          const action = {\n            id: 0,\n            application: \"www.wbauth.com\",\n            date: new Date(),\n            description: `l'utilisateur ${username} a modifier la permission '${perm.nom}' du role avec l'id '${IdRole}' de l'application avec l'id '${IdApp}'  `,\n            idJournalisation: idJournalisation,\n            journalisation: dataJournalisations[dataJournalisations.length - 1]\n          };\n          this.ActionService.EnregistrementActions(action).subscribe(() => {\n            console.log(action);\n          });\n        }\n      });\n    });\n  }\n  ajouterListePermissionsPredefini() {\n    this.ApplicationService.Recherche(\"www.wbauth.com\").subscribe(dataApp => {\n      if (dataApp[0].url == \"www.wbauth.com\") {\n        this.RoleService.getRoles(dataApp[0].id).subscribe(dataRoles => {\n          for (const role of dataRoles) {\n            if (role.nom == \"Utilisateur\" || role.nom == \"utilisateur\") {\n              this.listePermissionsPredefini = [];\n              this.listePermissionsPredefini.push(new Permission(0, 'Gestion des applications', '100000', role.id, role, 0, null), new Permission(0, 'Gestion des fonctions', '100000', role.id, role, 0, null), new Permission(0, 'Gestion des roles', '100000', role.id, role, 0, null), new Permission(0, 'Gestion des permissions', '100000', role.id, role, 0, null), new Permission(0, 'Gestion des utilisateurs', '100000', role.id, role, 0, null), new Permission(0, 'Consulter la liste des accès utilisateurs', '0', role.id, role, 0, null), new Permission(0, 'Modifier la liste des accès d\\'un utilisateur', '0', role.id, role, 0, null), new Permission(0, 'Consulter la journalisation d\\'un utilisateur', '0', role.id, role, 0, null), new Permission(0, 'Modifier son compte utilisateur', '1', role.id, role, 0, null));\n              for (const perm of this.listePermissionsPredefini) {\n                if (perm.status.length > 2) {\n                  this.PermissionService.RechMultiFonction(perm.nom, dataApp[0].id, role.id).subscribe(dataPermission => {\n                    if (dataPermission && dataPermission.length < 1) {\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe(dataFonction => {\n                        perm.idFonction = dataFonction[0].id;\n                        perm.Fonction = dataFonction[0];\n                        this.PermissionService.addPermission(perm).subscribe(() => {});\n                      });\n                    }\n                  });\n                } else if (perm.status.length < 2) {\n                  this.PermissionService.RechFonctionUnique(perm.nom, dataApp[0].id, role.id).subscribe(dataPermission => {\n                    if (dataPermission && dataPermission.length < 1) {\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe(dataFonction => {\n                        perm.idFonction = dataFonction[0].id;\n                        perm.Fonction = dataFonction[0];\n                        this.PermissionService.addPermission(perm).subscribe(() => {});\n                      });\n                    }\n                  });\n                }\n              }\n            } else if (role.nom == \"Administrateur\" || role.nom == \"administrateur\") {\n              this.listePermissionsPredefini = [];\n              this.listePermissionsPredefini.push(new Permission(0, 'Gestion des applications', '100000', role.id, role, 0, null), new Permission(0, 'Gestion des fonctions', '100011', role.id, role, 0, null), new Permission(0, 'Gestion des roles', '100011', role.id, role, 0, null), new Permission(0, 'Gestion des permissions', '100011', role.id, role, 0, null), new Permission(0, 'Gestion des utilisateurs', '111111', role.id, role, 0, null), new Permission(0, 'Consulter la liste des accès utilisateurs', '1', role.id, role, 0, null), new Permission(0, 'Modifier la liste des accès d\\'un utilisateur', '1', role.id, role, 0, null), new Permission(0, 'Consulter la journalisation d\\'un utilisateur', '1', role.id, role, 0, null), new Permission(0, 'Modifier son compte utilisateur', '1', role.id, role, 0, null));\n              for (const perm of this.listePermissionsPredefini) {\n                if (perm.status.length > 2) {\n                  this.PermissionService.RechMultiFonction(perm.nom, dataApp[0].id, role.id).subscribe(dataPermission => {\n                    if (dataPermission && dataPermission.length < 1) {\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe(dataFonction => {\n                        perm.idFonction = dataFonction[0].id;\n                        perm.Fonction = dataFonction[0];\n                        this.PermissionService.addPermission(perm).subscribe(() => {});\n                      });\n                    }\n                  });\n                } else if (perm.status.length < 2) {\n                  this.PermissionService.RechFonctionUnique(perm.nom, dataApp[0].id, role.id).subscribe(dataPermission => {\n                    if (dataPermission && dataPermission.length < 1) {\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe(dataFonction => {\n                        perm.idFonction = dataFonction[0].id;\n                        perm.Fonction = dataFonction[0];\n                        this.PermissionService.addPermission(perm).subscribe(() => {});\n                      });\n                    }\n                  });\n                }\n              }\n            } else if (role.nom == \"Super-Administrateur\" || role.nom == \"Super-administrateur\" || role.nom == \"super-administrateur\" || role.nom == \"Super Administrateur\" || role.nom == \"Super administrateur\" || role.nom == \"super administrateur\") {\n              this.listePermissionsPredefini = [];\n              this.listePermissionsPredefini.push(new Permission(0, 'Gestion des applications', '111111', role.id, role, 0, null), new Permission(0, 'Gestion des fonctions', '111111', role.id, role, 0, null), new Permission(0, 'Gestion des roles', '111111', role.id, role, 0, null), new Permission(0, 'Gestion des permissions', '111111', role.id, role, 0, null), new Permission(0, 'Gestion des utilisateurs', '111111', role.id, role, 0, null), new Permission(0, 'Consulter la liste des accès utilisateurs', '1', role.id, role, 0, null), new Permission(0, 'Modifier la liste des accès d\\'un utilisateur', '1', role.id, role, 0, null), new Permission(0, 'Consulter la journalisation d\\'un utilisateur', '1', role.id, role, 0, null), new Permission(0, 'Modifier son compte utilisateur', '1', role.id, role, 0, null));\n              for (const perm of this.listePermissionsPredefini) {\n                if (perm.status.length > 2) {\n                  this.PermissionService.RechMultiFonction(perm.nom, dataApp[0].id, role.id).subscribe(dataPermission => {\n                    if (dataPermission && dataPermission.length < 1) {\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe(dataFonction => {\n                        perm.idFonction = dataFonction[0].id;\n                        perm.Fonction = dataFonction[0];\n                        this.PermissionService.addPermission(perm).subscribe(() => {});\n                      });\n                    }\n                  });\n                } else if (perm.status.length < 2) {\n                  this.PermissionService.RechFonctionUnique(perm.nom, dataApp[0].id, role.id).subscribe(dataPermission => {\n                    if (dataPermission && dataPermission.length < 1) {\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe(dataFonction => {\n                        perm.idFonction = dataFonction[0].id;\n                        perm.Fonction = dataFonction[0];\n                        this.PermissionService.addPermission(perm).subscribe(() => {});\n                      });\n                    }\n                  });\n                }\n              }\n            }\n          }\n        });\n      }\n    });\n  }\n  static #_ = this.ɵfac = function PermissionComponent_Factory(t) {\n    return new (t || PermissionComponent)(i0.ɵɵdirectiveInject(i1.PermissionService), i0.ɵɵdirectiveInject(i2.RoleService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ApplicationService), i0.ɵɵdirectiveInject(i5.JournalisationService), i0.ɵɵdirectiveInject(i6.ActionService), i0.ɵɵdirectiveInject(i7.UtilisateurService), i0.ɵɵdirectiveInject(i8.FonctionService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PermissionComponent,\n    selectors: [[\"app-Permission\"]],\n    viewQuery: function PermissionComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table2 = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table1 = _t.first);\n      }\n    },\n    decls: 6,\n    vars: 2,\n    consts: [[1, \"background-titre\"], [1, \"centered-element\"], [\"style\", \"margin-top:100px\", \"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"content\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", 2, \"margin-top\", \"100px\"], [1, \"content\"], [1, \"search-bar-and-add\"], [\"class\", \"add-button\", 3, \"routerLink\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"Rechercher...\", 1, \"search-input\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"type\", \"submit\", 1, \"search-button\"], [1, \"fas\", \"fa-search\"], [1, \"choix-application\"], [\"for\", \"nom\", 2, \"transform\", \"translateX(-3px)\"], [\"id\", \"IdApp\", \"name\", \"IdApp\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"IdRole\", \"name\", \"IdRole\", 3, \"ngModel\", \"ngModelChange\"], [2, \"white-space\", \"nowrap\", \"border\", \"1.5px solid #349AB5\", \"border-radius\", \"4px\", \"padding\", \"4px\", \"font-weight\", \"600\", \"display\", \"flex\", \"align-items\", \"center\"], [1, \"add-button\", 2, \"padding\", \"8.5px\", 3, \"click\"], [1, \"fa-solid\", \"fa-angles-down\", 2, \"color\", \"gold\"], [2, \"margin\", \"auto\"], [\"class\", \"tableMultiPerms\", \"aria-labelledby\", \"tableLabel\", 4, \"ngIf\"], [2, \"color\", \"aqua\"], [1, \"fa-solid\", \"fa-angles-up\", 2, \"color\", \"gold\"], [\"aria-labelledby\", \"tableLabel\", 4, \"ngIf\"], [1, \"add-button\", 3, \"routerLink\"], [1, \"fas\", \"fa-plus\", 2, \"color\", \"#1ddd92\"], [3, \"value\"], [\"aria-labelledby\", \"tableLabel\", 1, \"tableMultiPerms\"], [\"table1\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"far\", \"fa-edit\", 2, \"color\", \"#e6c347\", 3, \"routerLink\", \"click\"], [1, \"far\", \"fa-trash-alt\", 2, \"color\", \"red\", \"margin\", \"0px 7px 0px 7px\", 3, \"click\"], [1, \"acces\", 2, \"display\", \"flex\", \"justify-content\", \"center\", \"cursor\", \"pointer\", 3, \"click\"], [1, \"no-select\", 3, \"appCellStyle\"], [1, \"acces\", 2, \"position\", \"relative\", \"cursor\", \"pointer\", 3, \"click\"], [1, \"no-select\", 2, \"position\", \"relative\", \"left\", \"45%\", 3, \"appCellStyle\"], [\"aria-labelledby\", \"tableLabel\"], [\"table2\", \"\"]],\n    template: function PermissionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \" GESTION DES PERMISSIONS \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 1);\n        i0.ɵɵtemplate(4, PermissionComponent_h4_4_Template, 2, 0, \"h4\", 2);\n        i0.ɵɵtemplate(5, PermissionComponent_div_5_Template, 41, 10, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", !ctx.read);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.read);\n      }\n    },\n    dependencies: [i9.NgForOf, i9.NgIf, i10.NgSelectOption, i10.ɵNgSelectMultipleOption, i10.DefaultValueAccessor, i10.SelectControlValueAccessor, i10.NgControlStatus, i10.NgModel, i3.RouterLink, i11.CellStyleDirective],\n    encapsulation: 2\n  });\n}","map":{"version":3,"mappings":"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","names":["Permission","i0","PermissionComponent","constructor","PermissionService","RoleService","route","router","ApplicationService","JournalisationService","ActionService","UtilisateurService","FonctionService","ngOnInit","ajouterListePermissionsPredefini","getApplications","subscribe","data","applications","length","IdApp","id","rechApp","nom","getRoles","roles","IdRole","rechRole","loadPermissions","error","console","ngAfterViewInit","setPermissionsByRole","cells","table1","nativeElement","querySelectorAll","log","Recherche","dataApp","url","role","localStorage","getItem","dataRole","getListeMultiFonction","dataPermission","perm","status","read","add","modify","delete","document","forEach","cell","classList","contains","htmlCell","style","cursor","loadApplications","getSelectedApplicationId","selectedApplication","find","app","getSelectedRoleId","selectedRole","r","multiPermissions","getListeFonctionUnique","uniquePermissions","RechMultiFonction","rechFonctionMulti","filter","toLowerCase","includes","RechFonctionUnique","rechFonctionUnique","onModifierAccesFonctionMulti","index","event","i","target","span","querySelector","textContent","backgroundColor","ModifierAcces","EnregistrerAction","onModifierAccesFonctionUnique","onModifierClick","navigate","EnregistrerActionSupp","username","getJournalisations","dataJournalisations","idJournalisation","action","application","date","Date","description","journalisation","EnregistrementActions","deletePermission","confirm","scrollToTable2","table2","scrollIntoView","behavior","block","scrollToTable1","type","dataRoles","listePermissionsPredefini","push","dataFonction","idFonction","Fonction","addPermission","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\Skander\\source\\repos\\WBAuth.Frontend\\ClientApp\\src\\app\\Modules\\Permission\\Permission.component.ts","C:\\Users\\Skander\\source\\repos\\WBAuth.Frontend\\ClientApp\\src\\app\\Modules\\Permission\\Permission.component.html"],"sourcesContent":["import { Component, Inject, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Role } from '../../Models/role.model';\r\nimport { RoleService } from '../../Services/role.service';\r\nimport { Application } from '../../Models/application.model';\r\nimport { ApplicationService } from '../../Services/application.service';\r\nimport { Permission } from '../../Models/permission.model';\r\nimport { PermissionService } from '../../Services/permission.service';\r\nimport { filter, Observable } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { JournalisationService } from '../../Services/journalisation.service';\r\nimport { UtilisateurService } from './../../Services/utilisateur.service';\r\nimport { ActionService } from '../../Services/action.service';\r\nimport { Action } from '../../Models/action.model';\r\nimport { FonctionService } from '../../Services/fonction.service';\r\nimport { Fonction } from '../../Models/fonction.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-Permission',\r\n  templateUrl: './Permission.component.html'\r\n})\r\nexport class PermissionComponent {\r\n  @ViewChild('table2', { static: false }) table2: ElementRef | undefined;\r\n  @ViewChild('table1', { static: false }) table1: ElementRef | undefined;\r\n  permission: Permission = new Permission();\r\n  roles: any[] = [];\r\n  applications: any[] = [];\r\n  multiPermissions: any[] = [];\r\n  uniquePermissions: any[] = [];\r\n  rechApp: string = '';\r\n  rechRole: string = '';\r\n  rechFonctionMulti: string = '';\r\n  rechFonctionUnique: string = '';\r\n  IdApp: number = 0;\r\n  IdRole: number = 0;\r\n  i: number = 0;\r\n  listePermissionsPredefini: any[] = [];\r\n  read: boolean = false;\r\n  modify: boolean = false;\r\n  add: boolean = false;\r\n  delete: boolean = false;\r\n\r\n  constructor(private PermissionService: PermissionService, private RoleService: RoleService, private route: ActivatedRoute, private router: Router,\r\n    private ApplicationService: ApplicationService, private JournalisationService: JournalisationService, private ActionService: ActionService,\r\n    private UtilisateurService: UtilisateurService, private FonctionService: FonctionService ){}\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.ajouterListePermissionsPredefini();\r\n    this.ApplicationService.getApplications().subscribe((data) => {\r\n      this.applications = data;\r\n      if (this.applications && this.applications.length > 0) {\r\n        this.IdApp = this.applications[0].id;\r\n        this.rechApp = this.applications[0].nom;\r\n        this.RoleService.getRoles(this.IdApp).subscribe((data) => {\r\n          this.roles = data;\r\n          this.IdRole = this.roles[0].id;\r\n          this.rechRole = this.roles[0].nom;\r\n          this.loadPermissions();\r\n        })\r\n      }\r\n    },\r\n      (error) => { console.error('Erreur lors de la récupération des applications : ', error); });\r\n  }\r\n\r\n\r\n  ngAfterViewInit() {\r\n    this.setPermissionsByRole();\r\n    const cells = this.table1!.nativeElement.querySelectorAll('td.acces');\r\n    console.log(cells);\r\n  }\r\n\r\n\r\n  setPermissionsByRole() {\r\n    this.ApplicationService.Recherche(\"www.wbauth.com\").subscribe((dataApp) => {\r\n      if (dataApp[0].url == \"www.wbauth.com\") {\r\n        let role = localStorage.getItem(\"role\");\r\n        this.RoleService.Recherche(role, dataApp[0].id).subscribe((dataRole) => {\r\n          if (dataRole && dataRole.length == 1) {\r\n            this.PermissionService.getListeMultiFonction(dataApp[0].id, dataRole[0].id).subscribe((dataPermission) => {\r\n              for (const perm of dataPermission) {\r\n                if (perm.nom == \"Gestion des permissions\") {\r\n                  if (perm.status[0] === \"1\") { this.read = true; }\r\n                  if (perm.status[1] === \"1\") { this.add = true; }\r\n                  if (perm.status[2] === \"1\") { this.modify = true; }\r\n                  if (perm.status[3] === \"1\") { this.delete = true; }\r\n                  if (perm.status[2] === \"0\") {\r\n                    const cells = document.querySelectorAll('td.acces');\r\n                    console.log(cells);\r\n                    cells.forEach(cell => {\r\n                      if (cell.classList.contains('acces')) {\r\n                        const htmlCell = cell as HTMLTableCellElement;\r\n                        htmlCell.classList.add(\"no-select\");\r\n                        htmlCell.style.cursor = \"not-allowed\";\r\n                      }\r\n                    });             \r\n                  }\r\n                }\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  loadApplications(){\r\n    this.ApplicationService.getApplications().subscribe((data) => { this.applications = data; },\r\n      (error) => { console.error('Erreur lors de la récupération des applications : ', error); });\r\n  }\r\n\r\n\r\n  getSelectedApplicationId(): any {\r\n    const selectedApplication = this.applications.find((app) => app.nom === this.rechApp);\r\n    if (selectedApplication) {\r\n      this.IdApp = selectedApplication.id;\r\n      this.RoleService.getRoles(this.IdApp).subscribe((data) => {\r\n        this.roles = data;\r\n        this.IdRole = this.roles[0].id;\r\n        this.rechRole = this.roles[0].nom;\r\n        this.loadPermissions();\r\n      },\r\n        (error) => { console.error('Erreur lors de la récupération des roles : ', error); });\r\n      return selectedApplication.id;\r\n    } else return 0;\r\n  }\r\n\r\n  getSelectedRoleId(): any {\r\n    const selectedRole = this.roles.find((r) => r.nom === this.rechRole);\r\n    if (selectedRole) {\r\n      this.IdRole = selectedRole.id;\r\n      this.loadPermissions();\r\n      return selectedRole.id;\r\n    } else return 0;\r\n  }\r\n\r\n  loadPermissions() {\r\n    if (this.applications.length > 0 && this.roles.length > 0){\r\n      this.PermissionService.getListeMultiFonction(this.IdApp, this.IdRole).subscribe((data) => { this.multiPermissions = data; },\r\n        (error) => { console.error('Erreur lors de la récupération des Permissions : ', error); });\r\n      this.PermissionService.getListeFonctionUnique(this.IdApp, this.IdRole).subscribe((data) => { this.uniquePermissions = data; },\r\n        (error) => { console.error('Erreur lors de la récupération des Permissions : ', error); });\r\n    }\r\n  }\r\n\r\n\r\n  RechMultiFonction(){\r\n    if (this.rechFonctionMulti == \"\") this.loadPermissions();\r\n    else {\r\n      this.PermissionService.getListeMultiFonction(this.IdApp, this.IdRole).subscribe((data) => {\r\n        this.multiPermissions = data;\r\n        this.multiPermissions = this.multiPermissions.filter(perm => {\r\n          return perm.nom.toLowerCase().includes(this.rechFonctionMulti.toLowerCase());\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  RechFonctionUnique() {\r\n    if (this.rechFonctionUnique == \"\") this.loadPermissions();\r\n    else {\r\n      this.PermissionService.getListeFonctionUnique(this.IdApp, this.IdRole).subscribe((data) => {\r\n        this.uniquePermissions = data;\r\n        this.uniquePermissions = this.uniquePermissions.filter(perm => {\r\n          return perm.nom.toLowerCase().includes(this.rechFonctionUnique.toLowerCase());\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  onModifierAccesFonctionMulti(index: number, perm: Permission, event: Event): void {\r\n    const cells = document.querySelectorAll('td.acces');\r\n    console.log(cells);\r\n    this.i = index;\r\n    const target = event.target as HTMLElement;\r\n    const span = target.querySelector('span');\r\n    if (span?.textContent === '✔') { span.textContent = '✖'; target.style.backgroundColor = 'red'; }\r\n    else if (span?.textContent === '✖') { span.textContent = '✔'; target.style.backgroundColor = '#128d3a'; }\r\n    this.PermissionService.ModifierAcces(this.IdApp, this.i, perm).subscribe(() => {\r\n      this.loadPermissions();\r\n      this.EnregistrerAction(this.IdApp, this.IdRole, \"MultiFonction\" ,perm);\r\n    });\r\n  }\r\n\r\n\r\n  onModifierAccesFonctionUnique(perm: Permission, event: Event): void {\r\n    const target = event.target as HTMLElement;\r\n    const span = target.querySelector('span');\r\n    if (span?.textContent === '✔' && perm.status == \"1\") { span.textContent = '✖'; target.style.backgroundColor = 'red'; }\r\n    else if (span?.textContent === '✖' && perm.status == \"0\") { span.textContent = '✔'; target.style.backgroundColor = '#128d3a';  }\r\n    this.PermissionService.ModifierAcces(this.IdApp, this.i, perm).subscribe(() => {\r\n      this.loadPermissions();\r\n      this.EnregistrerAction(this.IdApp, this.IdRole, \"Fonction Unique\" ,perm);\r\n    });\r\n  }\r\n\r\n\r\n  onModifierClick(id: number) { this.router.navigate(['Permission/ModifierPermission', id]); }\r\n\r\n\r\n  EnregistrerActionSupp(id: number) {\r\n    let username = localStorage.getItem(\"username\");\r\n    this.UtilisateurService.Recherche(username).subscribe((data) => {\r\n      this.JournalisationService.getJournalisations(data[0].id).subscribe((dataJournalisations) => {\r\n        let idJournalisation = dataJournalisations[dataJournalisations.length - 1].id;\r\n        const action: Action = {\r\n          id: 0, application: \"www.wbauth.com\", date: new Date(), description: `l'utilisateur ${username} a supprimer la permission avec l'id '${id}' du role '${this.rechRole}' dans l'application '${this.rechApp}' avec l'id '${this.IdApp}'`,\r\n          idJournalisation: idJournalisation, journalisation: dataJournalisations[dataJournalisations.length - 1]\r\n        }\r\n        this.ActionService.EnregistrementActions(action).subscribe(() => { console.log(action); });\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  deletePermission(id: number) {\r\n    if (confirm('Voulez-vous vraiment supprimer ce Permission ?')) {\r\n      this.PermissionService.deletePermission(id).subscribe(() => {\r\n        this.loadPermissions();\r\n        this.EnregistrerActionSupp(id);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  scrollToTable2() {  if (this.table2) {  this.table2.nativeElement.scrollIntoView({ behavior: 'smooth', block: 'start' }); }}\r\n  scrollToTable1() {  if (this.table1) { this.table1.nativeElement.scrollIntoView({ behavior: 'smooth', block: 'start' }); }}\r\n\r\n\r\n\r\n  EnregistrerAction(IdApp: number ,IdRole: number ,type: string ,perm: Permission){\r\n    let username = localStorage.getItem(\"username\");\r\n    this.UtilisateurService.Recherche(username).subscribe((data) => {\r\n      this.JournalisationService.getJournalisations(data[0].id).subscribe((dataJournalisations) => {\r\n        let idJournalisation = dataJournalisations[dataJournalisations.length - 1].id;\r\n        if (type === \"MultiFonction\"){\r\n          const action: Action = {\r\n            id: 0, application: \"www.wbauth.com\", date: new Date(),\r\n            description: `l'utilisateur ${username} a modifier la permission '${perm.nom}' du role avec l'id '${IdRole}' de l'application avec l'id '${IdApp}'  `,\r\n            idJournalisation: idJournalisation, journalisation: dataJournalisations[dataJournalisations.length - 1]\r\n          }\r\n          this.ActionService.EnregistrementActions(action).subscribe(() => { console.log(action); });\r\n        }\r\n        else if (type === \"Fonction Unique\"){\r\n          const action: Action = {\r\n            id: 0, application: \"www.wbauth.com\", date: new Date(),\r\n            description: `l'utilisateur ${username} a modifier la permission '${perm.nom}' du role avec l'id '${IdRole}' de l'application avec l'id '${IdApp}'  `,\r\n            idJournalisation: idJournalisation, journalisation: dataJournalisations[dataJournalisations.length - 1]\r\n          }\r\n          this.ActionService.EnregistrementActions(action).subscribe(() => { console.log(action); });\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  ajouterListePermissionsPredefini() {\r\n    this.ApplicationService.Recherche(\"www.wbauth.com\").subscribe((dataApp) => {\r\n      if (dataApp[0].url == \"www.wbauth.com\") {\r\n        this.RoleService.getRoles(dataApp[0].id).subscribe((dataRoles) => {\r\n          for (const role of dataRoles) {\r\n            if (role.nom == \"Utilisateur\" || role.nom == \"utilisateur\") {\r\n              this.listePermissionsPredefini = [];\r\n              this.listePermissionsPredefini.push(\r\n                new Permission(0, 'Gestion des applications', '100000', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des fonctions', '100000', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des roles', '100000', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des permissions', '100000', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des utilisateurs', '100000', role.id, role, 0, null),\r\n                new Permission(0, 'Consulter la liste des accès utilisateurs', '0', role.id, role, 0, null),\r\n                new Permission(0, 'Modifier la liste des accès d\\'un utilisateur', '0', role.id, role, 0, null),\r\n                new Permission(0, 'Consulter la journalisation d\\'un utilisateur', '0', role.id, role, 0, null),\r\n                new Permission(0, 'Modifier son compte utilisateur', '1', role.id, role, 0, null),\r\n              );\r\n              for (const perm of this.listePermissionsPredefini) {\r\n                if (perm.status.length > 2) {\r\n                  this.PermissionService.RechMultiFonction(perm.nom, dataApp[0].id, role.id).subscribe((dataPermission) => {\r\n                    if (dataPermission && dataPermission.length < 1) {\r\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe((dataFonction) => {\r\n                        perm.idFonction = dataFonction[0].id;\r\n                        perm.Fonction = dataFonction[0];\r\n                        this.PermissionService.addPermission(perm).subscribe(() => { });\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n                else if (perm.status.length < 2) {\r\n                  this.PermissionService.RechFonctionUnique(perm.nom, dataApp[0].id, role.id).subscribe((dataPermission) => {\r\n                    if (dataPermission && dataPermission.length < 1) {\r\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe((dataFonction) => {\r\n                        perm.idFonction = dataFonction[0].id;\r\n                        perm.Fonction = dataFonction[0];\r\n                        this.PermissionService.addPermission(perm).subscribe(() => { });\r\n                      });   \r\n                    }    \r\n                  });  \r\n                }   \r\n              }    \r\n            }\r\n\r\n            else if (role.nom == \"Administrateur\" || role.nom == \"administrateur\") {\r\n              this.listePermissionsPredefini = [];\r\n              this.listePermissionsPredefini.push(\r\n                new Permission(0, 'Gestion des applications', '100000', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des fonctions', '100011', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des roles', '100011', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des permissions', '100011', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des utilisateurs', '111111', role.id, role, 0, null),\r\n                new Permission(0, 'Consulter la liste des accès utilisateurs', '1', role.id, role, 0, null),\r\n                new Permission(0, 'Modifier la liste des accès d\\'un utilisateur', '1', role.id, role, 0, null),\r\n                new Permission(0, 'Consulter la journalisation d\\'un utilisateur', '1', role.id, role, 0, null),\r\n                new Permission(0, 'Modifier son compte utilisateur', '1', role.id, role, 0, null),\r\n              );\r\n              for (const perm of this.listePermissionsPredefini) {\r\n                if (perm.status.length > 2) {\r\n                  this.PermissionService.RechMultiFonction(perm.nom, dataApp[0].id, role.id).subscribe((dataPermission) => {\r\n                    if (dataPermission && dataPermission.length < 1) {\r\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe((dataFonction) => {\r\n                        perm.idFonction = dataFonction[0].id;\r\n                        perm.Fonction = dataFonction[0];\r\n                        this.PermissionService.addPermission(perm).subscribe(() => { });\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n                else if (perm.status.length < 2) {\r\n                  this.PermissionService.RechFonctionUnique(perm.nom, dataApp[0].id, role.id).subscribe((dataPermission) => {\r\n                    if (dataPermission && dataPermission.length < 1) {\r\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe((dataFonction) => {\r\n                        perm.idFonction = dataFonction[0].id;\r\n                        perm.Fonction = dataFonction[0];\r\n                        this.PermissionService.addPermission(perm).subscribe(() => { });\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            }\r\n\r\n            else if (role.nom == \"Super-Administrateur\" || role.nom == \"Super-administrateur\" || role.nom == \"super-administrateur\"\r\n              || role.nom == \"Super Administrateur\" || role.nom == \"Super administrateur\" || role.nom == \"super administrateur\") {\r\n              this.listePermissionsPredefini = [];\r\n              this.listePermissionsPredefini.push(\r\n                new Permission(0, 'Gestion des applications', '111111', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des fonctions', '111111', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des roles', '111111', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des permissions', '111111', role.id, role, 0, null),\r\n                new Permission(0, 'Gestion des utilisateurs', '111111', role.id, role, 0, null),\r\n                new Permission(0, 'Consulter la liste des accès utilisateurs', '1', role.id, role, 0, null),\r\n                new Permission(0, 'Modifier la liste des accès d\\'un utilisateur', '1', role.id, role, 0, null),\r\n                new Permission(0, 'Consulter la journalisation d\\'un utilisateur', '1', role.id, role, 0, null),\r\n                new Permission(0, 'Modifier son compte utilisateur', '1', role.id, role, 0, null),\r\n              );\r\n              for (const perm of this.listePermissionsPredefini) {\r\n                if (perm.status.length > 2) {\r\n                  this.PermissionService.RechMultiFonction(perm.nom, dataApp[0].id, role.id).subscribe((dataPermission) => {\r\n                    if (dataPermission && dataPermission.length < 1) {\r\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe((dataFonction) => {\r\n                        perm.idFonction = dataFonction[0].id;\r\n                        perm.Fonction = dataFonction[0];\r\n                        this.PermissionService.addPermission(perm).subscribe(() => { });\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n                else if (perm.status.length < 2) {\r\n                  this.PermissionService.RechFonctionUnique(perm.nom, dataApp[0].id, role.id).subscribe((dataPermission) => {\r\n                    if (dataPermission && dataPermission.length < 1) {\r\n                      this.FonctionService.Recherche(perm.nom, dataApp[0].id).subscribe((dataFonction) => {\r\n                        perm.idFonction = dataFonction[0].id;\r\n                        perm.Fonction = dataFonction[0];\r\n                        this.PermissionService.addPermission(perm).subscribe(() => { });\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            }\r\n\r\n          }   \r\n        });  \r\n      }    \r\n    });  \r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","      <div class=\"background-titre\"> <h1> GESTION DES PERMISSIONS </h1> </div>\r\n      <div class=\"centered-element\">\r\n\r\n        <h4 *ngIf=\"!read\" style=\"margin-top:100px\" class=\"alert alert-danger\" role=\"alert\">\r\n          Accès refusé : Vous n'êtes pas autorisé à consulter la liste des permissions !\r\n        </h4>\r\n\r\n        <div *ngIf=\"read\" class=\"content\">\r\n\r\n          <div class=\"search-bar-and-add\">\r\n            <button *ngIf=\"add\" class=\"add-button\" [routerLink]=\"['/Permission/AjouterPermission']\">\r\n              <i class=\"fas fa-plus\" style=\"color: #1ddd92;\"></i>  &nbsp;  AJOUTER\r\n            </button>\r\n            <input [(ngModel)]=\"rechFonctionMulti\" (input)=\"RechMultiFonction()\" class=\"search-input\" type=\"text\" placeholder=\"Rechercher...\">\r\n            <button class=\"search-button\" type=\"submit\"><i class=\"fas fa-search\"></i></button>\r\n          </div>\r\n          <br />\r\n\r\n          <div class=\"choix-application\">\r\n            <label style=\"transform:translateX(-3px)\" for=\"nom\">APPLICATION :</label>\r\n            <select id=\"IdApp\" name=\"IdApp\" [(ngModel)]=\"rechApp\" (ngModelChange)=\"getSelectedApplicationId()\">\r\n              <option *ngFor=\"let app of applications\" [value]=\"app.nom\">{{ app.nom }}</option>\r\n            </select>\r\n\r\n            <label style=\"transform:translateX(-3px)\" for=\"nom\">RÔLE :</label>\r\n            <select id=\"IdRole\" name=\"IdRole\" [(ngModel)]=\"rechRole\" (ngModelChange)=\"getSelectedRoleId()\">\r\n              <option *ngFor=\"let role of roles\" [value]=\"role.nom\">{{ role.nom }} ( Niveau {{ role.niveau }} )</option>\r\n            </select>\r\n          </div>\r\n\r\n\r\n          <div style=\"white-space:nowrap ; border: 1.5px solid #349AB5; border-radius:4px; padding:4px; font-weight:600;\r\n                 display:flex; align-items:center \">\r\n            <button (click)=\"scrollToTable2()\" class=\"add-button\" style=\"padding:8.5px;\"> <i class=\"fa-solid fa-angles-down\" style=\"color:gold;\"></i> </button>\r\n            <div style=\"margin:auto;\"> TABLEAU MULTI-FONCTIONS </div>\r\n          </div>\r\n          <br />\r\n\r\n\r\n          <table class=\"tableMultiPerms\" aria-labelledby=\"tableLabel\" *ngIf=\"multiPermissions\" #table1>\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>LECTURE</th>\r\n                <th>AJOUT</th>\r\n                <th>MODIFICATION</th>\r\n                <th>SUPRESSION</th>\r\n                <th>IMPRESSION</th>\r\n                <th>EXPORTATION</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let permission of multiPermissions\">\r\n                <td>\r\n                  <i (click)=\"onModifierClick(permission.id)\" [routerLink]=\"['/Permission/ModifierPermission']\" class=\"far fa-edit\" style=\"color: #e6c347;\"></i>\r\n                  <i (click)=\"deletePermission(permission.id)\" class=\"far fa-trash-alt\" style=\"color:red; margin:0px 7px 0px 7px;\"></i> {{ permission.nom }}\r\n                </td>\r\n\r\n                <td class=\"acces\" (click)=\"onModifierAccesFonctionMulti(0,permission ,$event)\" style=\"display:flex; justify-content:center; cursor:pointer;\">\r\n                  <span class=\"no-select\" appCellStyle=\"{{ permission.status[0] === '0' ? '✖' : '✔' }}\">{{ permission.status[0] === '0' ? '✖' : '✔' }}</span>\r\n                </td>\r\n\r\n                <td class=\"acces\" (click)=\"onModifierAccesFonctionMulti(1,permission ,$event)\" style=\"position:relative; cursor:pointer;\">\r\n                  <span class=\"no-select\" appCellStyle=\"{{ permission.status[1] === '0' ? '✖' : '✔' }}\"\r\n                        style=\"position:relative; left:45%;\">{{ permission.status[1] === '0' ? '✖' : '✔' }}</span>\r\n                </td>\r\n\r\n                <td class=\"acces\" (click)=\"onModifierAccesFonctionMulti(2,permission ,$event)\" style=\"display:flex; justify-content:center; cursor:pointer;\">\r\n                  <span class=\"no-select\" appCellStyle=\"{{ permission.status[2] === '0' ? '✖' : '✔' }}\">{{ permission.status[2] === '0' ? '✖' : '✔' }}</span>\r\n                </td>\r\n\r\n                <td class=\"acces\" (click)=\"onModifierAccesFonctionMulti(3,permission ,$event)\" style=\"position:relative; cursor:pointer;\">\r\n                  <span class=\"no-select\" appCellStyle=\"{{ permission.status[3] === '0' ? '✖' : '✔' }}\"\r\n                        style=\"position: relative; left: 45%;\">{{ permission.status[3] === '0' ? '✖' : '✔' }}</span>\r\n                </td>\r\n\r\n                <td class=\"acces\" (click)=\"onModifierAccesFonctionMulti(4,permission ,$event)\" style=\"display:flex; justify-content:center; cursor:pointer;\">\r\n                  <span class=\"no-select\" appCellStyle=\"{{ permission.status[4] === '0' ? '✖' : '✔' }}\">{{ permission.status[4] === '0' ? '✖' : '✔' }}</span>\r\n                </td>\r\n\r\n                <td class=\"acces\" (click)=\"onModifierAccesFonctionMulti(5,permission ,$event)\" style=\"position:relative; cursor:pointer;\">\r\n                  <span class=\"no-select\" appCellStyle=\"{{ permission.status[5] === '0' ? '✖' : '✔' }}\"\r\n                        style=\"position: relative; left: 45%;\">{{ permission.status[5] === '0' ? '✖' : '✔' }}</span>\r\n                </td>\r\n\r\n              </tr>\r\n            </tbody>\r\n\r\n\r\n          </table>\r\n          <br /><br /><br /><br />\r\n\r\n\r\n          <!--------------------------------------------------------------------------------------------------------------------------------------------------------->\r\n          <hr style=\"color:aqua;\" />\r\n          <div class=\"search-bar-and-add\">\r\n            <button *ngIf=\"add\" class=\"add-button\" [routerLink]=\"['/Permission/AjouterPermission']\">\r\n              <i class=\"fas fa-plus\" style=\"color: #1ddd92;\"></i>  &nbsp;  AJOUTER\r\n            </button>\r\n            <input [(ngModel)]=\"rechFonctionUnique\" (input)=\"RechFonctionUnique()\" class=\"search-input\" type=\"text\" placeholder=\"Rechercher...\">\r\n            <button class=\"search-button\" type=\"submit\"><i class=\"fas fa-search\"></i></button>\r\n          </div>\r\n          <br />\r\n\r\n          <div style=\"white-space:nowrap ; border: 1.5px solid #349AB5; border-radius:4px; padding:4px; font-weight:600;\r\n                 display:flex; align-items:center \">\r\n            <button (click)=\"scrollToTable1()\" class=\"add-button\" style=\"padding:8.5px;\"> <i class=\"fa-solid fa-angles-up\" style=\"color:gold;\"></i> </button>\r\n            <div style=\"margin:auto;\"> TABLEAU DE FONCTION UNIQUE </div>\r\n          </div>\r\n          <br />\r\n\r\n\r\n          <table aria-labelledby=\"tableLabel\" *ngIf=\"uniquePermissions\" #table2>\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>ACTION</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let permission of uniquePermissions\">\r\n                <td>\r\n                  <i (click)=\"onModifierClick(permission.id)\" [routerLink]=\"['/Permission/ModifierPermission']\" class=\"far fa-edit\" style=\"color: #e6c347;\"></i>\r\n                  <i (click)=\"deletePermission(permission.id)\" class=\"far fa-trash-alt\" style=\"color:red; margin:0px 7px 0px 7px;\"></i> {{ permission.nom }}\r\n                </td>\r\n                <td class=\"acces\" (click)=\"onModifierAccesFonctionUnique(permission ,$event)\" style=\"position:relative; cursor:pointer;\">\r\n                  <span class=\"no-select\" appCellStyle=\"{{ permission.status === '0' ? '✖' : '✔' }}\"\r\n                        style=\"position: relative; left: 45%;\">{{ permission.status === '0' ? '✖' : '✔' }}</span>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n\r\n\r\n\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}