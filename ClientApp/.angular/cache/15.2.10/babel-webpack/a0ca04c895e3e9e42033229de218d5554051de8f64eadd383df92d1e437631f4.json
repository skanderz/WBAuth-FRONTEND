{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../Services/utilisateur.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction EmailConfirmation_em_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nconst _c0 = function () {\n  return [\"/Authentification\"];\n};\nfunction EmailConfirmation_em_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"em\", 8);\n    i0.ɵɵtext(1, \" Votre email est confirm\\u00E9 avec succ\\u00E8s. Veuillez \");\n    i0.ɵɵelementStart(2, \"a\", 9);\n    i0.ɵɵtext(3, \" cliquer ici pour se connecter ! \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nexport class EmailConfirmation {\n  constructor(UtilisateurService, _route) {\n    this.UtilisateurService = UtilisateurService;\n    this._route = _route;\n    this.confirmEmail = () => {\n      this.showError = this.showSuccess = false;\n      const token = this._route.snapshot.queryParams['token'];\n      const email = this._route.snapshot.queryParams['email'];\n      this.UtilisateurService.confirmEmail(token, email).subscribe({\n        next: _ => this.showSuccess = true,\n        error: err => {\n          this.showError = true;\n          this.errorMessage = err.message;\n        }\n      });\n    };\n  }\n  ngOnInit() {\n    this.confirmEmail();\n  }\n  static #_ = this.ɵfac = function EmailConfirmation_Factory(t) {\n    return new (t || EmailConfirmation)(i0.ɵɵdirectiveInject(i1.UtilisateurService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EmailConfirmation,\n    selectors: [[\"app-EmailConfirmation\"]],\n    decls: 10,\n    vars: 2,\n    consts: [[1, \"AccueilContent\", 2, \"display\", \"flex\", \"justify-content\", \"center\", \"align-items\", \"center\"], [\"src\", \"../../assets/Images/PC-AccueilPrincipale.png\", 2, \"width\", \"350px\", \"height\", \"350px\"], [2, \"display\", \"flex\", \"flex-direction\", \"column\", \"justify-content\", \"center\", \"align-items\", \"center\", \"margin\", \"0px 0px 0px -20px\"], [\"src\", \"../../assets/Images/WBConcept-AccueilPrincipale.png\", 2, \"max-width\", \"325px\"], [2, \"color\", \"#C4BDF6\", \"margin-bottom\", \"10px\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-success\", \"role\", \"alert\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\"], [3, \"routerLink\"]],\n    template: function EmailConfirmation_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵtext(5, \" \\u2022\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2022 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"h1\");\n        i0.ɵɵtext(7, \"Email Confirmation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, EmailConfirmation_em_8_Template, 2, 1, \"em\", 5);\n        i0.ɵɵtemplate(9, EmailConfirmation_em_9_Template, 4, 2, \"em\", 6);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.showError);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showSuccess);\n      }\n    },\n    dependencies: [i3.NgIf, i2.RouterLink],\n    encapsulation: 2\n  });\n}","map":{"version":3,"mappings":";;;;;;IAQIA,6BAA8D;IAACA,YAAiB;IAAAA,iBAAK;;;;IAAtBA,eAAiB;IAAjBA,oDAAiB;;;;;;;;IAChFA,6BAAiE;IAC/DA,0EAA+C;IAAAA,4BAAwC;IAACA,iDAAgC;IAAAA,iBAAI;;;IAA1EA,eAAoC;IAApCA,uDAAoC;;;ACG5F,OAAM,MAAOC,iBAAiB;EAK5BC,YAAoBC,kBAAsC,EAAUC,MAAsB;IAAtE,uBAAkB,GAAlBD,kBAAkB;IAA8B,WAAM,GAANC,MAAM;IAMlE,iBAAY,GAAG,MAAK;MAC1B,IAAI,CAACC,SAAS,GAAG,IAAI,CAACC,WAAW,GAAG,KAAK;MACzC,MAAMC,KAAK,GAAG,IAAI,CAACH,MAAM,CAACI,QAAQ,CAACC,WAAW,CAAC,OAAO,CAAC;MACvD,MAAMC,KAAK,GAAG,IAAI,CAACN,MAAM,CAACI,QAAQ,CAACC,WAAW,CAAC,OAAO,CAAC;MAEvD,IAAI,CAACN,kBAAkB,CAACQ,YAAY,CAACJ,KAAK,EAAEG,KAAK,CAAC,CAACE,SAAS,CAAC;QACzDC,IAAI,EAAGC,CAAC,IAAK,IAAI,CAACR,WAAW,GAAG,IAAI;QACpCS,KAAK,EAAGC,GAAsB,IAAI;UAChC,IAAI,CAACX,SAAS,GAAG,IAAI;UACrB,IAAI,CAACY,YAAY,GAAGD,GAAG,CAACE,OAAO;QACjC;OACD,CAAC;IACN,CAAC;EAlB6F;EAE9FC,QAAQ;IACN,IAAI,CAACR,YAAY,EAAE;EACrB;EAAC;qBATUV,iBAAiB;EAAA;EAAA;UAAjBA,iBAAiB;IAAAmB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDb9BxB,8BAA8F;QAE5FA,yBAA4F;QAE5FA,8BAAwH;QACtHA,yBAA0F;QAC1FA,8BAAiD;QAACA,8KAA2B;QAAAA,iBAAM;QACnFA,0BAAI;QAAAA,kCAAkB;QAAAA,iBAAK;QAC3BA,gEAAqF;QACrFA,gEAEK;QAEPA,iBAAM;;;QALCA,eAAe;QAAfA,oCAAe;QACfA,eAAiB;QAAjBA,sCAAiB","names":["i0","EmailConfirmation","constructor","UtilisateurService","_route","showError","showSuccess","token","snapshot","queryParams","email","confirmEmail","subscribe","next","_","error","err","errorMessage","message","ngOnInit","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Skander\\source\\repos\\WBAuth.Frontend\\ClientApp\\src\\app\\AccueilPrincipale\\Authentification\\EmailConfirmation.component.html","C:\\Users\\Skander\\source\\repos\\WBAuth.Frontend\\ClientApp\\src\\app\\AccueilPrincipale\\Authentification\\EmailConfirmation.component.ts"],"sourcesContent":["<div class=\"AccueilContent\" style=\"display:flex; justify-content:center; align-items:center;\">\r\n\r\n  <img src=\"../../assets/Images/PC-AccueilPrincipale.png\" style=\"width:350px; height:350px\" />\r\n\r\n  <div style=\"display:flex; flex-direction:column; justify-content:center; align-items:center; margin:0px 0px 0px -20px;\">\r\n    <img src=\"../../assets/Images/WBConcept-AccueilPrincipale.png\" style=\"max-width:325px;\" />\r\n    <div style=\"color:#C4BDF6; margin-bottom: 10px;\"> •────────────────────────• </div>\r\n    <h1>Email Confirmation</h1>\r\n    <em *ngIf=\"showError\" class=\"alert alert-danger\" role=\"alert\"> {{errorMessage}} </em>\r\n    <em *ngIf=\"showSuccess\" class=\"alert alert-success\" role=\"alert\">\r\n      Votre email est confirmé avec succès. Veuillez <a [routerLink]=\"['/Authentification']\"> cliquer ici pour se connecter ! </a>\r\n    </em>\r\n\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { Component, NgModule, OnInit, AfterContentInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { UtilisateurService } from './../../Services/utilisateur.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-EmailConfirmation',\r\n  templateUrl: './EmailConfirmation.component.html',\r\n})\r\n\r\n\r\nexport class EmailConfirmation implements OnInit {\r\n  showSuccess!: boolean;\r\n  showError!: boolean;\r\n  errorMessage!: string;\r\n\r\n  constructor(private UtilisateurService: UtilisateurService, private _route: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.confirmEmail();\r\n  }\r\n\r\n  private confirmEmail = () => {\r\n    this.showError = this.showSuccess = false;\r\n    const token = this._route.snapshot.queryParams['token'];\r\n    const email = this._route.snapshot.queryParams['email'];\r\n\r\n    this.UtilisateurService.confirmEmail(token, email).subscribe({\r\n        next: (_) => this.showSuccess = true,\r\n        error: (err: HttpErrorResponse) => {\r\n          this.showError = true;\r\n          this.errorMessage = err.message;\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}